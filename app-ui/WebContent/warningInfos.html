<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="msapplication-tap-highlight" content="no" />
  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#49CEFF">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#49CEFF" />
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>预警信息</title>
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css">
  <link rel="stylesheet" href="bower_components/animate.css/animate.min.css">
  <link rel="stylesheet" href="bower_components/metisMenu/dist/metisMenu.min.css">
  <link rel="stylesheet" href="bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css">
  <link rel="stylesheet" href="bower_components/Waves/dist/waves.min.css">
  <link rel="stylesheet" href="bower_components/toastr/toastr.css">
  <link rel="stylesheet" href="bower_components/datatables/media/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<!-- 加载中 -->
<div id="preloader">
    <div class="refresh-preloader"><div class="preloader"><i>.</i><i>.</i><i>.</i></div></div>
</div>

<div class="wrapper">
	<!-- 顶部账号信息 -->
	<nav class="navbar">
	    <div class="navbar-container clearfix">
	        <div class="pull-right">
	      		<ul class="nav pull-right right-menu">
	        		<li class="more-options dropdown">
			            <a class="dropdown-toggle" data-toggle="dropdown">
			                <i class="zmdi zmdi-account-circle"></i>
			            </a>
			            <div class="more-opt-container dropdown-menu">
				            <a href="#"><i class="zmdi zmdi-account-o"></i>Account<span class="badge badge-warning">3</span></a>
				            <a href="#"><i class="zmdi zmdi-storage"></i>Storage <span class="badge badge-danger">2</span></a>
				            <a href="#"><i class="zmdi zmdi-run"></i>Exit</a>
			            </div>
			        </li>
	        <li class="notification dropdown">
	          <a class="dropdown-toggle">
	            <i class="zmdi zmdi-notifications"></i>
	            <span class="badge badge-primary">1</span>
	          </a>
	
	          <div class="dropdown-menu">
	            <h4 class="text-center info-color m-0">You have 19 new notifications</h4>
	            <div class="notification-container">
	              <a href="#"><i class="zmdi zmdi-email warning-color m-r-5"></i> You have 16 messages <span class="pull-right">4 minutes ago</span></a>
	            </div>
	            <a href="#" class="text-uppercase clear-all">Clear all notifications</a>
	            <div class="check-ok">
	              <i class="zmdi zmdi-check"></i>
	            </div>
	          </div>
	        </li>
	      </ul>
	    </div>
	  </div>
	</nav>
	<!-- 页面内容 -->
    <div class="container-fluid">
    
		<div class="row">
		  <div class="col-md-12">
            <div class="content-box">
            	<div class="head primary-bg clearfix">
            		<h5 class="content-title pull-left">预警信息</h5>
		        </div>
                <div class="m-b-20">
                    <ul class="nav nav-tabs">
                      <li class="active">
                        <a href="#tab-11" data-toggle="tab">异常信息</a>
                      </li>
                      <li>
                        <a href="#tab-12" data-toggle="tab">XX信息</a>
                      </li>
                    </ul>
                    <div class="tab-content">
                      <div class="tab-pane fade in active" id="tab-11">
                        <div class="table-responsive">
			                <table class="table table-striped">
			                <thead>
			                    <tr>
			                      <th>编号</th>
				                  <th>类型</th>
				                  <th>时间</th>
				                  <th>信息</th>
				                  <th>创建时间</th>
				                  <th>操作</th>
			                    </tr>
		                    </thead>
		                    <tbody id = "warningInfos">
		                    </tbody>
		                    </table>
		              	</div>
                      </div>
                      <div class="tab-pane fade" id="tab-12">
                        <div class="table-responsive">
		                	<table class="table table-striped">
		                    <thead>
		                    	<tr>
		                          <th>编号</th>
				                  <th>类型</th>
				                  <th>时间</th>
				                  <th>信息</th>
				                  <th>创建时间</th>
				                  <th>操作</th>
		                        </tr>
		                    </thead>
		                    <tbody id = "xxx">
		                    </tbody>
		                    </table>
		            	</div>
                      </div>
                    </div>
                </div>
            </div>
          </div>
    	</div>
    	
    </div>
    <footer id="source" class="page-footer">abc</footer>
  </div>
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="bower_components/metisMenu/dist/metisMenu.min.js"></script>
  <script src="bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.js"></script>
  <script src="bower_components/Waves/dist/waves.min.js"></script>
  <script src="bower_components/toastr/toastr.js"></script>
  <script src="bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
  <script src="bower_components/datatables.net-responsive/js/dataTables.responsive.js"></script>
  <script src="bower_components/moment/min/moment.min.js"></script>
  <script src="bower_components/Chart.js/Chart.js"></script>
  <script src="bower_components/flot/jquery.flot.js"></script>
  <script src="bower_components/flot/jquery.flot.resize.js"></script>
  <script src="bower_components/flot.tooltip/js/jquery.flot.tooltip.js"></script>
  <script src="bower_components/jquery.easy-pie-chart/dist/jquery.easypiechart.js"></script>
  <script>
  	//var homeUrl = "http://10.5.35.12:8081/api/";
  	var homeUrl = "http://39.105.142.63:8081/api/";
  	
  	window.onload = function(){
    	$.ajax({
            type: "post",
            url: homeUrl + "showWarningInfos",
            data: {
            },
            success: function (data) {
            	var json = eval("("+data+")");
            	var warningInfos = json.warningInfos;
            	var html = getHtml(warningInfos);
                $("#warningInfos").html(html);
            }
        });
    }

    //列表数据
    function getHtml(datas){
    	var html = "";
    	$.each(datas, function(i, obj) {
       		html += '<tr>';
           	html += '<td>' + i + '</td>';
           	html += '<td>' + obj.warningType + '</td>';
           	html += '<td>' + obj.closeDate +'</td>';
           	html += '<td>' + obj.description + '</td>';
           	html += '<td>' + obj.createTime +'</td>';
           	html += '<td><small><button type="button" class="btn btn-primary btn-xs" onclick="deleteWarningInfo('+obj.id+')">删除</button></small></td>';
           	html += '</tr>';
        });
    	return html;
    }
    
    function deleteWarningInfo(id){
    	alert("删除:"+id);
    }
    
  </script>
  <script src="js/common.js"></script>
</body>
</html>
